; IRA V2.11 (Jun 19 2024) (c)1993-1995 Tim Ruehsen
; (c)2009-2024 Frank Wille, (c)2014-2019 Nicolas Bastien

EXT_0		EQU	$0
INT_WRONG	EQU	$60
EXT_62		EQU	$62
EXT_BFD100	EQU	$BFD100
EXT_BFE001	EQU	$BFE001
EXT_DFF000	EQU	$DFF000
EXT_DFF01C	EQU	$DFF01C
EXT_DFF09A	EQU	$DFF09A

; Custom equates (from config file)
dmaconr	EQU	2




	ORG	$10000

SECSTRT_0:
; ------------------------------------------------------------------------------
; RATT-DOS
; Raw binary file of Crowther's disk operating system
; Apparently it was faster than AmigaDOS, aided portability to Atari ST,
; and made the game harder to pirate.
; Functions from WHDLoad
; In emulator it loads at memory location 0x138
; ------------------------------------------------------------------------------
	BRA.W	InitDrSync		;10000: 60000246
	BRA.W	InitDrives		;10004: 60000250
	BRA.W	SetDirBuff		;10008: 600001b8
	BRA.W	SetDataBuff		;1000c: 600001ac
	BRA.W	RawRead			;10010: 600000ec
	BRA.W	SaveFile		;10014: 600000f0
	BRA.W	Ratt_Unknown		;10018: 600000f4
	BRA.W	LoadFile		;1001c: 600000f8
	BRA.W	MotorOff		;10020: 60000660
	BRA.W	RestoreInts		;10024: 600001ca
	BRA.W	SetInts			;10028: 600001b2
	BRA.W	SetDirSize		;1002c: 600001e4
	BRA.W	ClearDir		;10030: 600001f2
	BRA.W	GetEmptyTrack		;10034: 600001f6
	BRA.W	GetDiskDir		;10038: 60000164
	BRA.W	ResetDrives		;1003c: 6000018a
	BRA.W	GetDrives		;10040: 60000156
	BRA.W	WriteDir		;10044: 600000dc
	BRA.W	RenameFile		;10048: 60000130
	BRA.W	Write_Unknown		;1004c: 6000011a
	BRA.W	EmptyFunc		;10050: 6000014a
	BRA.W	GetBuffers		;10054: 6000015a
	BRA.W	FindDirEntry		;10058: 60000118
	BRA.W	SetSync			;1005c: 600001e2
	BRA.W	ChangeDisk		;10060: 60000244
	BRA.W	SpecMotorOff		;10064: 60000618
	BRA.W	Initialise		;10068: 60000dc2
	BRA.W	MemoryFunc		;1006c: 60000d3a
	BRA.W	FreeMem			;10070: 60000c28
	BRA.W	AllocateMem		;10074: 60000cfc
	BRA.W	SetDriveParams		;10078: 60000030
	BRA.W	AllocMemType		;1007c: 60000cb4
	BRA.W	GetMemInfo		;10080: 60000c0e
SomeBytes:
	DC.L	$eff478ed,$bffb7e5e	;10084
VersionStr:
	;1008c
	;DC.B	$52,$41,$54,$54,$2d,$44,$4f,$53,$20,$56,$65,$72,$20,$32,$2e,$30
	;DC.B	$2c,$28,$43,$29,$52,$41,$54,$54,$20,$31,$39,$39,$30,$00
	DC.B	"RATT-DOS Ver 2.0,(C)RATT 1990",0
SetDriveParams:
	LEA	LAB_10FD4(PC),A0	;100aa: 41fa0f28
	CMP.W	#$ffff,D0		;100ae: b07cffff
	BEQ.S	LAB_100B8		;100b2: 6704
	MOVE.W	D0,$A(A0)		;100b4: 3140000a
LAB_100B8:
	TST.W	D1			;100b8: 4a41
	BMI.S	LAB_100C0		;100ba: 6b04
	MOVE.W	D1,4(A0)		;100bc: 31410004
LAB_100C0:
	TST.W	D2			;100c0: 4a42
	BMI.S	LAB_100C8		;100c2: 6b04
	MOVE.W	D2,$E(A0)		;100c4: 3142000e
LAB_100C8:
	CMP.W	#$18c0,D3		;100c8: b67c18c0
	BHI.S	LAB_100D2		;100cc: 6204
	MOVE.W	D3,8(A0)		;100ce: 31430008
LAB_100D2:
	CMP.W	#$00a3,D4		;100d2: b87c00a3
	BHI.S	LAB_100DC		;100d6: 6204
	MOVE.W	D4,$C(A0)		;100d8: 3144000c
LAB_100DC:
	TST.W	D6			;100dc: 4a46
	BMI.S	LAB_100E4		;100de: 6b04
	MOVE.W	D6,0(A0)		;100e0: 31460000
LAB_100E4:
	TST.W	D5			;100e4: 4a45
	BMI.S	LAB_100EC		;100e6: 6b04
	MOVE.W	D5,2(A0)		;100e8: 31450002
LAB_100EC:
	MOVE.W	(A0)+,D6		;100ec: 3c18
	MOVE.W	(A0)+,D5		;100ee: 3a18
	MOVE.W	(A0)+,D1		;100f0: 3218
	MOVE.L	(A0)+,D3		;100f2: 2618
	MOVE.W	(A0)+,D0		;100f4: 3018
	MOVE.W	(A0)+,D4		;100f6: 3818
	MOVE.W	(A0)+,D2		;100f8: 3418
	BRA.W	ResetDrives		;100fa: 600000cc
RawRead:
	BSR.S	LAB_1012C		;100fe: 612c
	BSR.W	LAB_10836		;10100: 61000734
	BRA.S	LAB_10128		;10104: 6022
SaveFile:
	BSR.S	LAB_1012C		;10106: 6124
	BSR.W	LAB_10876		;10108: 6100076c
	BRA.S	LAB_10128		;1010c: 601a
Ratt_Unknown:
	BSR.S	LAB_1012C		;1010e: 611c
	BSR.W	LAB_10A1C		;10110: 6100090a
	BRA.S	LAB_10128		;10114: 6012
LoadFile:
	BSR.S	LAB_1012C		;10116: 6114
	BCLR	#$1F,D1			;10118: 0881001f
	BSR.W	LAB_102F8		;1011c: 610001da
	BRA.S	LAB_10128		;10120: 6006
WriteDir:
	BSR.S	LAB_1012C		;10122: 6108
	MOVEA.L	A0,A1			;10124: 2248
	BSR.S	LAB_10130		;10126: 6108
LAB_10128:
	BRA.W	LAB_1025C		;10128: 60000132
LAB_1012C:
	BRA.W	LAB_10272		;1012c: 60000144
LAB_10130:
	BSR.W	LAB_102D4		;10130: 610001a2
	BNE.W	LAB_1035C		;10134: 66000226
	BSR.W	LAB_10A00		;10138: 610008c6
	BMI.W	LAB_1035C		;1013c: 6b00021e
	MOVEA.L	DirBuffer(PC),A0	;10140: 207a0e4a
	LEA	$18(A0),A0		;10144: 41e80018
	MOVE.W	$54(A4),D5		;10148: 3a2c0054
	MOVE.W	$68(A4),D0		;1014c: 302c0068
LAB_10150:
	CMP.B	(A0)+,D5		;10150: ba18
	BNE.S	LAB_10158		;10152: 6604
	CLR.B	-1(A0)			;10154: 4228ffff
LAB_10158:
	DBF	D0,LAB_10150		;10158: 51c8fff6
	CLR.L	(A6)+			;1015c: 429e
	CLR.L	(A6)+			;1015e: 429e
	CLR.L	(A6)+			;10160: 429e
	CLR.L	(A6)+			;10162: 429e
	BRA.W	LAB_109E8		;10164: 60000882
Write_Unknown:
	BSR.S	LAB_1012C		;10168: 61c2
	MOVE.L	D0,D1			;1016a: 2200
	BSR.W	LAB_10BA4		;1016c: 61000a36
	BRA.S	LAB_10128		;10170: 60b6
FindDirEntry:
	BSR.S	LAB_1012C		;10172: 61b8
	BSR.W	LAB_102BC		;10174: 61000146
LAB_10178:
	BRA.S	LAB_10128		;10178: 60ae
RenameFile:
	BSR.S	LAB_1012C		;1017a: 61b0
	MOVE.L	A1,-(A7)		;1017c: 2f09
	BSR.W	LAB_102BC		;1017e: 6100013c
	TST.W	INT_WRONG.W		;10182: 4a780060
	BMI.S	LAB_10192		;10186: 6b0a
	MOVEA.L	(A7),A1			;10188: 2257
	BSR.W	LAB_10B2C		;1018a: 610009a0
	BSR.W	LAB_109E8		;1018e: 61000858
LAB_10192:
	MOVEA.L	(A7)+,A1		;10192: 225f
	BRA.S	LAB_10178		;10194: 60e2
	RTS				;10196: 4e75
GetDrives:
	MOVE.W	LAB_10F9C(PC),D0	;10198: 303a0e02
EmptyFunc:
	RTS				;1019c: 4e75
GetDiskDir:
	BSR.S	LAB_1012C		;1019e: 618c
	MOVE.W	D0,D1			;101a0: 3200
	BSR.W	LAB_103F8		;101a2: 61000254
	BSR.W	LAB_104AC		;101a6: 61000304
	MOVEA.L	$14(A4),A0		;101aa: 206c0014
	BRA.S	LAB_10178		;101ae: 60c8
GetBuffers:
	MOVEA.L	DataBuffer(PC),A1	;101b0: 227a0dc6
	MOVEA.L	DirBuffer(PC),A0	;101b4: 207a0dd6
	RTS				;101b8: 4e75
SetDataBuff:
	LEA	DataBuffer(PC),A0	;101ba: 41fa0dbc
	MOVE.L	D0,(A0)			;101be: 2080
	BRA.S	ResetDrives		;101c0: 6006
SetDirBuff:
	LEA	DirBuffer(PC),A0	;101c2: 41fa0dc8
	MOVE.L	D0,(A0)			;101c6: 2080
ResetDrives:
	MOVE.L	A0,-(A7)		;101c8: 2f08
	LEA	LAB_10FA0(PC),A0	;101ca: 41fa0dd4
	ST	(A0)			;101ce: 50d0
	MOVE.L	#$ffffffff,4(A0)	;101d0: 217cffffffff0004
	MOVEA.L	(A7)+,A0		;101d8: 205f
	RTS				;101da: 4e75
SetInts:
	LEA	LAB_10F94(PC),A0	;101dc: 41fa0db6
; intenar
	MOVE.W	EXT_DFF01C,(A0)		;101e0: 30b900dff01c
; intena
	MOVE.W	#$6fff,EXT_DFF09A	;101e6: 33fc6fff00dff09a
	BRA.S	ResetDrives		;101ee: 60d8
RestoreInts:
	MOVE.W	LAB_10F94(PC),D0	;101f0: 303a0da2
	BMI.S	LAB_10210		;101f4: 6b1a
	ORI.W	#$c000,D0		;101f6: 0040c000
; intena
	MOVE.W	D0,EXT_DFF09A		;101fa: 33c000dff09a
	BRA.S	ResetDrives		;10200: 60c6
LAB_10202:
	MOVE.W	D0,-(A7)		;10202: 3f00
	BSR.W	LAB_103F8		;10204: 610001f2
	BSR.W	LAB_104AC		;10208: 610002a2
	MOVE.W	(A7)+,D7		;1020c: 3e1f
	MOVEQ	#-1,D5			;1020e: 7aff
LAB_10210:
	RTS				;10210: 4e75
SetDirSize:
	BSR.S	LAB_10272		;10212: 615e
	BSR.S	LAB_10202		;10214: 61ec
LAB_10216:
	BSR.W	LAB_10B86		;10216: 6100096e
	BSR.W	LAB_10A00		;1021a: 610007e4
	BSR.W	LAB_109E8		;1021e: 610007c8
	BRA.S	LAB_1025C		;10222: 6038
ClearDir:
	BSR.S	LAB_10272		;10224: 614c
	BSR.S	LAB_10202		;10226: 61da
	CLR.W	D5			;10228: 4245
	BRA.S	LAB_10216		;1022a: 60ea
GetEmptyTrack:
	BSR.S	LAB_10272		;1022c: 6144
	BSR.S	LAB_10202		;1022e: 61d2
	BSR.W	LAB_10B6E		;10230: 6100093c
	TST.W	INT_WRONG.W		;10234: 4a780060
	BMI.S	LAB_1023E		;10238: 6b04
	MOVE.W	D7,EXT_62.W		;1023a: 31c70062
LAB_1023E:
	BRA.S	LAB_1025C		;1023e: 601c
SetSync:
	LEA	LAB_10FDE(PC),A0	;10240: 41fa0d9c
	MOVE.W	D0,(A0)			;10244: 3080
LAB_10246:
	RTS				;10246: 4e75
InitDrSync:
	BSR.S	SetSync			;10248: 61f6
	MOVEA.L	EXT_0.W,A0		;1024a: 20780000
	PEA	LAB_10246(PC)		;1024e: 487afff6
	MOVE.L	(A7)+,-20(A0)		;10252: 215fffec
InitDrives:
	BSR.S	LAB_10272		;10256: 611a
	BSR.W	LAB_105F8		;10258: 6100039e
LAB_1025C:
	MOVE.W	(A7)+,D1		;1025c: 321f
	ORI.W	#$8000,D1		;1025e: 00418000
	MOVE.W	D1,$96(A5)		;10262: 3b410096
	MOVEM.L	(A7)+,D1-D7/A1-A6	;10266: 4cdf7efe
	ADDQ.L	#4,A7			;1026a: 588f
	MOVE.L	INT_WRONG.W,D0		;1026c: 20380060
	RTS				;10270: 4e75
LAB_10272:
	PEA	LAB_10280(PC)		;10272: 487a000c
	MOVE.L	(A7)+,INT_WRONG.W	;10276: 21df0060
	MOVE.L	INT_WRONG.W,-(A7)	;1027a: 2f380060
	RTS				;1027e: 4e75
LAB_10280:
	MOVEM.L	D1-D7/A1-A6,-(A7)	;10280: 48e77f7e
; hardbase
	LEA	EXT_DFF000,A5		;10284: 4bf900dff000
	MOVE.W	dmaconr(A5),-(A7)	;1028a: 3f2d0002
	MOVE.L	$36(A7),-(A7)		;1028e: 2f2f0036
; prb
	LEA	EXT_BFD100,A3		;10292: 47f900bfd100
	LEA	DataBuffer(PC),A4	;10298: 49fa0cde
	CLR.L	INT_WRONG.W		;1029c: 42b80060
	CLR.W	$56(A4)			;102a0: 426c0056
	RTS				;102a4: 4e75
ChangeDisk:
	BSR.S	LAB_10272		;102a6: 61ca
	EXG	A1,A0			;102a8: c348
	BSR.S	LAB_102AE		;102aa: 6102
	BRA.S	LAB_1025C		;102ac: 60ae
LAB_102AE:
	BSR.W	LAB_10360		;102ae: 610000b0
	BMI.S	LAB_102BA		;102b2: 6b06
	BSR.W	LAB_107BC		;102b4: 61000506
	BPL.S	LAB_102C6		;102b8: 6a0c
LAB_102BA:
	RTS				;102ba: 4e75
LAB_102BC:
	MOVEA.L	A0,A1			;102bc: 2248
	BSR.S	LAB_102D4		;102be: 6114
	BNE.S	LAB_102D2		;102c0: 6610
	MOVEA.L	$4E(A4),A0		;102c2: 206c004e
LAB_102C6:
	MOVEQ	#0,D0			;102c6: 7000
	MOVE.W	$2A(A4),D0		;102c8: 302c002a
	SUBQ.W	#3,D0			;102cc: 5740
	MOVE.L	D0,INT_WRONG.W		;102ce: 21c00060
LAB_102D2:
	RTS				;102d2: 4e75
LAB_102D4:
	BSR.W	LAB_10360		;102d4: 6100008a
	BMI.S	LAB_102F0		;102d8: 6b16
	MOVE.L	A1,$3A(A4)		;102da: 2949003a
	BSR.W	LAB_107BC		;102de: 610004dc
	BMI.S	LAB_102F0		;102e2: 6b0c
	BSR.W	LAB_10380		;102e4: 6100009a
	BNE.S	LAB_102F2		;102e8: 6608
	MOVE.L	A6,$4E(A4)		;102ea: 294e004e
	CMP.W	D0,D0			;102ee: b040
LAB_102F0:
	RTS				;102f0: 4e75
LAB_102F2:
	MOVEQ	#-2,D7			;102f2: 7efe
	BRA.W	LAB_10870		;102f4: 6000057a
LAB_102F8:
	MOVE.L	D1,$42(A4)		;102f8: 29410042
	BSR.S	LAB_102D4		;102fc: 61d6
	BNE.S	LAB_1035C		;102fe: 665c
	MOVE.B	$F(A6),D0		;10300: 102e000f
	BSR.W	LAB_1081A		;10304: 61000514
	CLR.L	$4A(A4)			;10308: 42ac004a
	MOVE.W	D7,D2			;1030c: 3407
LAB_1030E:
	MOVE.L	$42(A4),$3E(A4)		;1030e: 296c0042003e
	BSR.W	LAB_105AA		;10314: 61000294
	CLR.W	D5			;10318: 4245
	BSR.W	LAB_106AA		;1031a: 6100038e
	TST.L	D3			;1031e: 4a83
	BNE.S	LAB_10356		;10320: 6634
	MOVEA.L	(A4),A1			;10322: 2254
	MOVE.W	(A1),D6			;10324: 3c11
	CMP.W	$68(A4),D6		;10326: bc6c0068
	BHI.S	LAB_10352		;1032a: 6226
	MOVE.W	2(A1),D6		;1032c: 3c290002
	MOVE.W	$64(A4),D7		;10330: 3e2c0064
	LSR.W	#2,D7			;10334: e44f
	ADDQ.W	#8,D7			;10336: 5047
	CMP.W	D7,D6			;10338: bc47
	BHI.S	LAB_10352		;1033a: 6216
	BSR.W	LAB_104F0		;1033c: 610001b2
	MOVE.W	(A1),D2			;10340: 3411
	BNE.S	LAB_1030E		;10342: 66ca
	TST.W	INT_WRONG.W		;10344: 4a780060
	BMI.S	LAB_10350		;10348: 6b06
	MOVE.L	$4A(A4),INT_WRONG.W	;1034a: 21ec004a0060
LAB_10350:
	RTS				;10350: 4e75
LAB_10352:
	MOVEQ	#-2,D0			;10352: 70fe
	BRA.S	LAB_10358		;10354: 6002
LAB_10356:
	MOVEQ	#-1,D0			;10356: 70ff
LAB_10358:
	MOVE.L	D0,INT_WRONG.W		;10358: 21c00060
LAB_1035C:
	BRA.W	ResetDrives		;1035c: 6000fe6a
LAB_10360:
	MOVEQ	#0,D7			;10360: 7e00
LAB_10362:
	MOVEQ	#0,D0			;10362: 7000
	MOVE.L	D7,$20(A4)		;10364: 29470020
	MOVE.B	(A1)+,D0		;10368: 1019
	BEQ.S	LAB_1037A		;1036a: 670e
	BSR.S	LAB_103E6		;1036c: 6178
	CMP.B	#$3a,D0			;1036e: b03c003a
	BEQ.S	LAB_10350		;10372: 67dc
	ADD.L	D0,D7			;10374: de80
	ROL.L	D7,D7			;10376: efbf
	BRA.S	LAB_10362		;10378: 60e8
LAB_1037A:
	MOVEQ	#-10,D7			;1037a: 7ef6
	BRA.W	LAB_10870		;1037c: 600004f2
LAB_10380:
	MOVEM.L	D0-D1,-(A7)		;10380: 48e7c000
	CLR.L	D4			;10384: 4284
	MOVE.L	D4,D5			;10386: 2a04
	MOVEA.L	$14(A4),A6		;10388: 2c6c0014
	LEA	$BC(A6),A6		;1038c: 4dee00bc
	MOVEQ	#1,D7			;10390: 7e01
LAB_10392:
	MOVEA.L	$3A(A4),A2		;10392: 246c003a
	MOVEA.L	A6,A1			;10396: 224e
	MOVEQ	#$C,D6			;10398: 7c0c
	TST.B	(A1)			;1039a: 4a11
	BNE.S	LAB_103A8		;1039c: 660a
	TST.L	D5			;1039e: 4a85
	BNE.S	LAB_103A8		;103a0: 6606
	MOVE.W	D7,$54(A4)		;103a2: 39470054
	MOVE.L	A1,D5			;103a6: 2a09
LAB_103A8:
	MOVE.B	(A2)+,D0		;103a8: 101a
	MOVE.B	(A1)+,D1		;103aa: 1219
	BSR.S	LAB_103E0		;103ac: 6132
	CMP.B	D0,D1			;103ae: b200
	BNE.S	LAB_103CC		;103b0: 661a
	OR.B	D1,D0			;103b2: 8001
	BNE.S	LAB_103C8		;103b4: 6612
	MOVE.W	D7,$54(A4)		;103b6: 39470054
	CLR.W	D7			;103ba: 4247
	MOVE.B	$D(A6),D7		;103bc: 1e2e000d
	MOVEM.L	(A7)+,D0-D1		;103c0: 4cdf0003
	CMP.W	D7,D7			;103c4: be47
	RTS				;103c6: 4e75
LAB_103C8:
	DBF	D6,LAB_103A8		;103c8: 51ceffde
LAB_103CC:
	LEA	$18(A6),A6		;103cc: 4dee0018
	ADDQ.W	#1,D7			;103d0: 5247
	CMP.W	#$003d,D7		;103d2: be7c003d
	BLT.S	LAB_10392		;103d6: 6dba
	MOVEM.L	(A7)+,D0-D1		;103d8: 4cdf0003
	MOVEQ	#-1,D7			;103dc: 7eff
	RTS				;103de: 4e75
LAB_103E0:
	EXG	D0,D1			;103e0: c141
	BSR.S	LAB_103E6		;103e2: 6102
	EXG	D0,D1			;103e4: c141
LAB_103E6:
	CMP.B	#$60,D0			;103e6: b03c0060
	BLS.S	LAB_103F6		;103ea: 630a
	CMP.B	#$7a,D0			;103ec: b03c007a
	BHI.S	LAB_103F6		;103f0: 6204
	ANDI.W	#$00df,D0		;103f2: 024000df
LAB_103F6:
	RTS				;103f6: 4e75
LAB_103F8:
	BSR.S	LAB_1040C		;103f8: 6112
	CMPI.W	#$fff5,EXT_62.W		;103fa: 0c78fff50062
	BEQ.S	LAB_10408		;10400: 6706
	TST.W	INT_WRONG.W		;10402: 4a780060
	RTS				;10406: 4e75
LAB_10408:
	CLR.L	INT_WRONG.W		;10408: 42b80060
LAB_1040C:
	CMP.W	#$0003,D1		;1040c: b27c0003
	BHI.S	LAB_10418		;10410: 6206
	BTST	D1,$25(A4)		;10412: 032c0025
	BNE.S	LAB_1041E		;10416: 6606
LAB_10418:
	MOVEQ	#-16,D7			;10418: 7ef0
	BRA.W	LAB_10870		;1041a: 60000454
LAB_1041E:
	MOVEM.L	D1/D6,-(A7)		;1041e: 48e74200
	ANDI.W	#$0003,D1		;10422: 02410003
	ADDQ.W	#3,D1			;10426: 5641
	CMP.W	$2A(A4),D1		;10428: b26c002a
	BEQ.S	LAB_10432		;1042c: 6704
	ST	$28(A4)			;1042e: 50ec0028
LAB_10432:
	MOVE.W	D1,$2A(A4)		;10432: 3941002a
	ORI.B	#$79,(A3)		;10436: 00130079
	BCLR	#7,(A3)			;1043a: 08930007
	BCLR	D1,(A3)			;1043e: 0393
	BSR.W	LAB_10638		;10440: 610001f6
	BTST	#2,D6			;10444: 08060002
	BEQ.S	LAB_10454		;10448: 670a
	CMPI.B	#$ff,$29(A4,D1.W)	;1044a: 0c3400ff1029
	BEQ.S	LAB_1045E		;10450: 670c
	BRA.S	LAB_10484		;10452: 6030
LAB_10454:
	BCLR	#1,(A3)			;10454: 08930001
	BSR.S	LAB_1049E		;10458: 6144
	BSR.W	LAB_1065E		;1045a: 61000202
LAB_1045E:
	CLR.B	$29(A4,D1.W)		;1045e: 42341029
	BSET	#1,(A3)			;10462: 08d30001
	ST	$28(A4)			;10466: 50ec0028
	MOVEQ	#$55,D7			;1046a: 7e55
LAB_1046C:
	MOVE.B	EXT_BFE001,D6		;1046c: 1c3900bfe001
	BTST	#4,D6			;10472: 08060004
	BEQ.S	LAB_10484		;10476: 670c
	BSR.S	LAB_1049E		;10478: 6124
	BSR.W	LAB_1065E		;1047a: 610001e2
	DBF	D7,LAB_1046C		;1047e: 51cfffec
	BSR.S	LAB_10498		;10482: 6114
LAB_10484:
	MOVEM.L	(A7)+,D1/D6		;10484: 4cdf0042
	BTST	#2,EXT_BFE001		;10488: 0839000200bfe001
	BEQ.S	LAB_10498		;10490: 6706
	TST.W	INT_WRONG.W		;10492: 4a780060
	RTS				;10496: 4e75
LAB_10498:
	MOVEQ	#-11,D7			;10498: 7ef5
	BRA.W	LAB_10870		;1049a: 600003d4
LAB_1049E:
	BCLR	#0,(A3)			;1049e: 08930000
	BCLR	#0,(A3)			;104a2: 08930000
	BSET	#0,(A3)			;104a6: 08d30000
LAB_104AA:
	RTS				;104aa: 4e75
LAB_104AC:
	TST.W	INT_WRONG.W		;104ac: 4a780060
	BMI.S	LAB_104AA		;104b0: 6bf8
	TST.W	$28(A4)			;104b2: 4a6c0028
	BEQ.S	LAB_104EE		;104b6: 6736
	CLR.W	$28(A4)			;104b8: 426c0028
	MOVEM.L	D0-D7/A0-A6,-(A7)	;104bc: 48e7fffe
	BSR.W	LAB_109D0		;104c0: 6100050e
	MOVE.L	#$0000065c,$3E(A4)	;104c4: 297c0000065c003e
	MOVE.L	D5,(A0)			;104cc: 2085
	TST.W	INT_WRONG.W		;104ce: 4a780060
	BMI.S	LAB_104EA		;104d2: 6b16
	BSR.W	LAB_106AA		;104d4: 610001d4
	TST.L	D3			;104d8: 4a83
	BEQ.S	LAB_104E4		;104da: 6708
	MOVEQ	#-9,D7			;104dc: 7ef7
	BSR.W	LAB_10870		;104de: 61000390
	BRA.S	LAB_104EA		;104e2: 6006
LAB_104E4:
	MOVEA.L	(A4),A6			;104e4: 2c54
	MOVE.L	D5,(A6)			;104e6: 2c85
	BSR.S	LAB_104F0		;104e8: 6106
LAB_104EA:
	MOVEM.L	(A7)+,D0-D7/A0-A6	;104ea: 4cdf7fff
LAB_104EE:
	RTS				;104ee: 4e75
LAB_104F0:
	MOVEA.L	(A4),A6			;104f0: 2c54
	MOVE.W	(A6)+,D7		;104f2: 3e1e
	MOVE.W	(A6)+,D6		;104f4: 3c1e
	ASL.W	#2,D6			;104f6: e546
	SUBQ.W	#1,D6			;104f8: 5346
	MOVE.W	$64(A4),D5		;104fa: 3a2c0064
	CMP.W	D5,D6			;104fe: bc45
	BLS.S	LAB_10512		;10500: 6310
	LSR.W	#2,D5			;10502: e44d
	MOVE.W	D5,$36(A4)		;10504: 39450036
	MOVE.W	D7,$32(A4)		;10508: 39470032
	MOVE.W	$64(A4),D6		;1050c: 3c2c0064
	SUBQ.W	#1,D6			;10510: 5346
LAB_10512:
	TST.W	INT_WRONG.W		;10512: 4a780060
	BMI.S	LAB_10540		;10516: 6b28
	MOVE.L	$3E(A4),D7		;10518: 2e2c003e
	CMPI.L	#$5061436b,(A6)		;1051c: 0c965061436b
	BEQ.S	LAB_10542		;10522: 671e
	MOVE.L	A5,-(A7)		;10524: 2f0d
	MOVE.L	$4A(A4),D5		;10526: 2a2c004a
LAB_1052A:
	SUBQ.L	#1,D7			;1052a: 5387
	BMI.S	LAB_10536		;1052c: 6b08
	ADDQ.L	#1,D5			;1052e: 5285
	MOVE.B	(A6)+,(A0)+		;10530: 10de
	DBF	D6,LAB_1052A		;10532: 51cefff6
LAB_10536:
	MOVE.L	D5,$4A(A4)		;10536: 2945004a
	MOVE.L	(A7)+,D5		;1053a: 2a1f
	MOVE.L	D7,$3E(A4)		;1053c: 2947003e
LAB_10540:
	RTS				;10540: 4e75
LAB_10542:
	MOVEM.L	D0-D3/D5-D6,-(A7)	;10542: 48e7f600
	MOVE.L	$4A(A4),D5		;10546: 2a2c004a
	ADDQ.L	#4,A6			;1054a: 588e
	MOVE.L	(A6)+,D3		;1054c: 261e
	ANDI.L	#$00ffffff,D3		;1054e: 028300ffffff
	MOVE.B	-4(A6),D2		;10554: 142efffc
	MOVE.W	$64(A4),D6		;10558: 3c2c0064
	SUBI.W	#$0009,D6		;1055c: 04460009
	MOVE.L	$3E(A4),D7		;10560: 2e2c003e
LAB_10564:
	SUBQ.L	#1,D7			;10564: 5387
	BMI.S	LAB_1059C		;10566: 6b34
	SUBQ.L	#1,D3			;10568: 5383
	BMI.S	LAB_1059C		;1056a: 6b30
	ADDQ.L	#1,D5			;1056c: 5285
	CMP.B	(A6)+,D2		;1056e: b41e
	BNE.S	LAB_10594		;10570: 6622
	CMP.W	#$0001,D6		;10572: bc7c0001
	BLS.S	LAB_10594		;10576: 631c
	MOVE.B	(A6)+,D0		;10578: 101e
	CLR.W	D1			;1057a: 4241
	MOVE.B	(A6)+,D1		;1057c: 121e
	SUBQ.W	#2,D6			;1057e: 5546
	BRA.S	LAB_1058C		;10580: 600a
LAB_10582:
	SUBQ.L	#1,D7			;10582: 5387
	BMI.S	LAB_1059C		;10584: 6b16
	SUBQ.L	#1,D3			;10586: 5383
	BMI.S	LAB_1059C		;10588: 6b12
	ADDQ.L	#1,D5			;1058a: 5285
LAB_1058C:
	MOVE.B	D0,(A0)+		;1058c: 10c0
	DBF	D1,LAB_10582		;1058e: 51c9fff2
	BRA.S	LAB_10598		;10592: 6004
LAB_10594:
	MOVE.B	-1(A6),(A0)+		;10594: 10eeffff
LAB_10598:
	SUBQ.W	#1,D6			;10598: 5346
	BPL.S	LAB_10564		;1059a: 6ac8
LAB_1059C:
	MOVE.L	D7,$3E(A4)		;1059c: 2947003e
	MOVE.L	D5,$4A(A4)		;105a0: 2945004a
	MOVEM.L	(A7)+,D0-D3/D5-D6	;105a4: 4cdf006f
	RTS				;105a8: 4e75
LAB_105AA:
	MOVEM.L	D1-D3/D6-D7,-(A7)	;105aa: 48e77300
	MOVE.W	$2A(A4),D1		;105ae: 322c002a
	CLR.W	D7			;105b2: 4247
	MOVE.B	$29(A4,D1.W),D7		;105b4: 1e341029
	BTST	#0,D2			;105b8: 08020000
	BEQ.S	LAB_105C4		;105bc: 6706
	BCLR	#2,(A3)			;105be: 08930002
	BRA.S	LAB_105C8		;105c2: 6004
LAB_105C4:
	BSET	#2,(A3)			;105c4: 08d30002
LAB_105C8:
	LSR.W	#1,D2			;105c8: e24a
	MOVE.B	D2,$29(A4,D1.W)		;105ca: 19821029
	CMP.B	D7,D2			;105ce: b407
	BEQ.S	LAB_105F2		;105d0: 6720
	BLS.S	LAB_105DC		;105d2: 6308
	BCLR	#1,(A3)			;105d4: 08930001
	EXG	D2,D7			;105d8: c547
	BRA.S	LAB_105E0		;105da: 6004
LAB_105DC:
	BSET	#1,(A3)			;105dc: 08d30001
LAB_105E0:
	SUB.W	D2,D7			;105e0: 9e42
	SUBQ.W	#1,D7			;105e2: 5347
	BSR.S	LAB_10638		;105e4: 6152
LAB_105E6:
	BSR.W	LAB_1049E		;105e6: 6100feb6
	BSR.S	LAB_1065E		;105ea: 6172
	DBF	D7,LAB_105E6		;105ec: 51cffff8
	BSR.S	LAB_1065E		;105f0: 616c
LAB_105F2:
	MOVEM.L	(A7)+,D1-D3/D6-D7	;105f2: 4cdf00ce
	RTS				;105f6: 4e75
LAB_105F8:
	MOVE.W	D1,D3			;105f8: 3601
	MOVEQ	#3,D1			;105fa: 7203
	CLR.W	D0			;105fc: 4240
	CLR.W	D2			;105fe: 4242
LAB_10600:
	BTST	D2,D3			;10600: 0503
	BEQ.S	LAB_1060A		;10602: 6706
	BSR.S	LAB_1061A		;10604: 6114
	BNE.S	LAB_1060A		;10606: 6602
	BSET	D2,D0			;10608: 05c0
LAB_1060A:
	ADDQ.W	#1,D1			;1060a: 5241
	ADDQ.W	#1,D2			;1060c: 5242
	CMP.W	#$0004,D2		;1060e: b47c0004
	BLT.S	LAB_10600		;10612: 6dec
	MOVE.W	D0,$24(A4)		;10614: 39400024
	RTS				;10618: 4e75
LAB_1061A:
	ORI.B	#$f9,(A3)		;1061a: 001300f9
	BCLR	#7,(A3)			;1061e: 08930007
	BCLR	D1,(A3)			;10622: 0393
	BSR.S	LAB_10638		;10624: 6112
	ORI.B	#$f9,(A3)		;10626: 001300f9
	BCLR	D1,(A3)			;1062a: 0393
	BTST	#5,D6			;1062c: 08060005
	BEQ.S	LAB_10636		;10630: 6704
	BTST	#2,D6			;10632: 08060002
LAB_10636:
	RTS				;10636: 4e75
LAB_10638:
	MOVEM.L	D0-D1/D7,-(A7)		;10638: 48e7c100
	MOVE.W	#$4204,D7		;1063c: 3e3c4204
LAB_10640:
	MOVE.B	EXT_BFE001,D6		;10640: 1c3900bfe001
	BTST	#5,D6			;10646: 08060005
	BEQ.S	LAB_10658		;1064a: 670c
	BTST	#2,D6			;1064c: 08060002
	BEQ.S	LAB_10658		;10650: 6706
	BSR.S	LAB_10672		;10652: 611e
	DBF	D7,LAB_10640		;10654: 51cfffea
LAB_10658:
	MOVEM.L	(A7)+,D0-D1/D7		;10658: 4cdf0083
	RTS				;1065c: 4e75
LAB_1065E:
	MOVEM.L	D0-D1,-(A7)		;1065e: 48e7c000
	MOVE.W	$6A(A4),D6		;10662: 3c2c006a
LAB_10666:
	BSR.S	LAB_10672		;10666: 610a
	DBF	D6,LAB_10666		;10668: 51cefffc
	MOVEM.L	(A7)+,D0-D1		;1066c: 4cdf0003
	RTS				;10670: 4e75
LAB_10672:
	MOVE.B	6(A5),D0		;10672: 102d0006
	CMP.B	D0,D1			;10676: b200
	BEQ.S	LAB_10672		;10678: 67f8
	MOVE.W	D0,D1			;1067a: 3200
	RTS				;1067c: 4e75
SpecMotorOff:
	ADDQ.W	#3,D1			;1067e: 5641
	BRA.S	LAB_10686		;10680: 6004
MotorOff:
	MOVE.W	LAB_10FA2(PC),D1	;10682: 323a091e
LAB_10686:
	CMP.W	#$0002,D1		;10686: b27c0002
	BLS.S	LAB_106A8		;1068a: 631c
	CMP.W	#$0006,D1		;1068c: b27c0006
	BHI.S	LAB_106A8		;10690: 6216
	MOVE.L	A3,-(A7)		;10692: 2f0b
	LEA	EXT_BFD100,A3		;10694: 47f900bfd100
	ORI.B	#$79,(A3)		;1069a: 00130079
	BSET	#7,(A3)			;1069e: 08d30007
	BCLR	D1,(A3)			;106a2: 0393
	BSET	D1,(A3)			;106a4: 03d3
	MOVEA.L	(A7)+,A3		;106a6: 265f
LAB_106A8:
	RTS				;106a8: 4e75
LAB_106AA:
	MOVEQ	#4,D7			;106aa: 7e04
LAB_106AC:
	MOVEM.L	D0-D2/D5/D7,-(A7)	;106ac: 48e7e500
	BSR.S	LAB_106C4		;106b0: 6112
	MOVEM.L	(A7)+,D0-D2/D5/D7	;106b2: 4cdf00a7
	TST.L	D3			;106b6: 4a83
	BEQ.S	LAB_106C2		;106b8: 6708
	TST.W	INT_WRONG.W		;106ba: 4a780060
	DBMI	D7,LAB_106AC		;106be: 5bcfffec
LAB_106C2:
	RTS				;106c2: 4e75
LAB_106C4:
	MOVEA.L	(A4),A1			;106c4: 2254
	MOVE.L	A1,$20(A5)		;106c6: 2b490020
	MOVE.W	#$9500,D7		;106ca: 3e3c9500
	BSR.S	LAB_1071A		;106ce: 614a
	MOVE.W	6(A7),$7E(A5)		;106d0: 3b6f0006007e
	MOVE.W	$64(A4),D7		;106d6: 3e2c0064
	ADDI.W	#$8014,D7		;106da: 06478014
	MOVE.W	D7,$24(A5)		;106de: 3b470024
	BTST	#1,$61(A4)		;106e2: 082c00010061
	BEQ.S	LAB_106F8		;106e8: 670e
	BTST	#4,$C00(A3)		;106ea: 082b00040c00
LAB_106F0:
	BTST	#4,$C00(A3)		;106f0: 082b00040c00
	BEQ.S	LAB_106F0		;106f6: 67f8
LAB_106F8:
	MOVE.W	D7,$24(A5)		;106f8: 3b470024
	MOVE.W	#$c60c,D7		;106fc: 3e3cc60c
LAB_10700:
	BTST	#1,$1F(A5)		;10700: 082d0001001f
	BNE.S	LAB_10746		;10706: 663e
	BSR.W	LAB_10672		;10708: 6100ff68
	DBF	D7,LAB_10700		;1070c: 51cffff2
	MOVEQ	#-4,D3			;10710: 76fc
	MOVE.L	D3,INT_WRONG.W		;10712: 21c30060
LAB_10716:
	MOVE.W	#$7f00,D7		;10716: 3e3c7f00
LAB_1071A:
	MOVE.W	#$7f00,$9E(A5)		;1071a: 3b7c7f00009e
	CMP.W	#$004f,D2		;10720: b47c004f
	BLS.S	LAB_1072A		;10724: 6304
	BSET	#$D,D7			;10726: 08c7000d
LAB_1072A:
	CLR.W	$24(A5)			;1072a: 426d0024
	MOVE.W	#$8210,$96(A5)		;1072e: 3b7c82100096
	CLR.W	$24(A5)			;10734: 426d0024
	MOVE.L	#$00020002,$9A(A5)	;10738: 2b7c00020002009a
	MOVE.W	D7,$9E(A5)		;10740: 3b47009e
	RTS				;10744: 4e75
LAB_10746:
	MOVE.W	6(A7),D0		;10746: 302f0006
	BSR.S	LAB_10716		;1074a: 61ca
	MOVEQ	#0,D3			;1074c: 7600
	MOVE.L	#$55555555,D2		;1074e: 243c55555555
	MOVEM.L	D4/A0-A1,-(A7)		;10754: 48e708c0
	MOVEQ	#2,D7			;10758: 7e02
LAB_1075A:
	CMP.W	(A1)+,D0		;1075a: b059
	BNE.S	LAB_10766		;1075c: 6608
	DBF	D7,LAB_1075A		;1075e: 51cffffa
	MOVEQ	#-17,D3			;10762: 76ef
	BRA.S	LAB_107A6		;10764: 6040
LAB_10766:
	SUBQ.L	#2,A1			;10766: 5589
	MOVE.W	D5,D0			;10768: 3005
	MOVE.L	-3828(A4),D5		;1076a: 2a2cf10c
	MOVE.L	-3824(A4),D1		;1076e: 222cf110
	MOVEA.L	(A4),A0			;10772: 2054
	BSR.S	LAB_107AE		;10774: 6138
	NOT.L	D6			;10776: 4686
	MOVE.L	D6,(A0)+		;10778: 20c6
	ADD.L	D6,D3			;1077a: d686
	MOVE.W	$64(A4),D7		;1077c: 3e2c0064
	LSR.W	#2,D7			;10780: e44f
	SUBQ.W	#1,D7			;10782: 5347
	SUBQ.W	#1,D0			;10784: 5340
	BMI.S	LAB_1078C		;10786: 6b04
	MOVE.W	D0,D6			;10788: 3c00
	BRA.S	LAB_10790		;1078a: 6004
LAB_1078C:
	SUBQ.W	#1,D6			;1078c: 5346
	BMI.S	LAB_10796		;1078e: 6b06
LAB_10790:
	CMP.W	D7,D6			;10790: bc47
	BHI.S	LAB_107A6		;10792: 6212
	MOVE.W	D6,D7			;10794: 3e06
LAB_10796:
	BSR.S	LAB_107AE		;10796: 6116
	SUB.L	D5,D6			;10798: 9c85
	ADD.L	D1,D5			;1079a: da81
	MOVE.L	D6,(A0)+		;1079c: 20c6
	ADD.L	D6,D3			;1079e: d686
	DBF	D7,LAB_10796		;107a0: 51cffff4
	BSR.S	LAB_107AE		;107a4: 6108
LAB_107A6:
	ADD.L	D6,D3			;107a6: d686
	MOVEM.L	(A7)+,D4/A0-A1		;107a8: 4cdf0310
	RTS				;107ac: 4e75
LAB_107AE:
	MOVE.L	(A1)+,D6		;107ae: 2c19
	MOVE.L	(A1)+,D4		;107b0: 2819
	AND.L	D2,D6			;107b2: cc82
	AND.L	D2,D4			;107b4: c882
	ADD.L	D4,D4			;107b6: d884
	OR.L	D4,D6			;107b8: 8c84
	RTS				;107ba: 4e75
LAB_107BC:
	MOVEQ	#3,D7			;107bc: 7e03
	MOVE.W	$2A(A4),D1		;107be: 322c002a
	BMI.S	LAB_107C8		;107c2: 6b04
	SUBQ.W	#3,D1			;107c4: 5741
	BRA.S	LAB_107CA		;107c6: 6002
LAB_107C8:
	CLR.W	D1			;107c8: 4241
LAB_107CA:
	MOVE.W	D7,$58(A4)		;107ca: 39470058
	MOVE.W	D1,-(A7)		;107ce: 3f01
	BTST	D1,$25(A4)		;107d0: 032c0025
	BEQ.S	LAB_10802		;107d4: 672c
	BSR.W	LAB_103F8		;107d6: 6100fc20
	TST.W	INT_WRONG.W		;107da: 4a780060
	BMI.S	LAB_107F6		;107de: 6b16
	BSR.W	LAB_104AC		;107e0: 6100fcca
	TST.W	INT_WRONG.W		;107e4: 4a780060
	BMI.S	LAB_107F6		;107e8: 6b0c
	MOVEA.L	$14(A4),A6		;107ea: 2c6c0014
	MOVE.L	(A6),D6			;107ee: 2c16
	CMP.L	$20(A4),D6		;107f0: bcac0020
	BEQ.S	LAB_10816		;107f4: 6720
LAB_107F6:
	BSR.W	ResetDrives		;107f6: 6100f9d0
	CLR.L	INT_WRONG.W		;107fa: 42b80060
	BSR.W	MotorOff		;107fe: 6100fe82
LAB_10802:
	MOVE.W	(A7)+,D1		;10802: 321f
	ADDQ.W	#1,D1			;10804: 5241
	ANDI.W	#$0003,D1		;10806: 02410003
	MOVE.W	$58(A4),D7		;1080a: 3e2c0058
	DBF	D7,LAB_107CA		;1080e: 51cfffba
	MOVEQ	#-13,D7			;10812: 7ef3
	BRA.S	LAB_10840		;10814: 602a
LAB_10816:
	MOVE.W	(A7)+,D1		;10816: 321f
	RTS				;10818: 4e75
LAB_1081A:
	MOVE.L	A0,-(A7)		;1081a: 2f08
	ANDI.W	#$00ff,D0		;1081c: 024000ff
	MOVEA.L	$14(A4),A0		;10820: 206c0014
	CMP.W	#$0005,D0		;10824: b07c0005
	BLS.S	LAB_1082C		;10828: 6302
	CLR.W	D0			;1082a: 4240
LAB_1082C:
	ADD.W	D0,D0			;1082c: d040
	MOVE.W	$C(A0,D0.W),D0		;1082e: 3030000c
	MOVEA.L	(A7)+,A0		;10832: 205f
	RTS				;10834: 4e75
LAB_10836:
	MOVE.L	D3,D4			;10836: 2803
	CMP.W	$68(A4),D2		;10838: b46c0068
	BLS.S	LAB_10842		;1083c: 6304
LAB_1083E:
	MOVEQ	#-14,D7			;1083e: 7ef2
LAB_10840:
	BRA.S	LAB_10870		;10840: 602e
LAB_10842:
	BSR.W	LAB_103F8		;10842: 6100fbb4
	BMI.S	LAB_1086E		;10846: 6b26
	BSR.W	LAB_105AA		;10848: 6100fd60
	TST.L	D2			;1084c: 4a82
	BMI.S	LAB_1086E		;1084e: 6b1e
	MOVE.W	D4,D5			;10850: 3a04
	BSR.W	LAB_106AA		;10852: 6100fe56
	TST.W	INT_WRONG.W		;10856: 4a780060
	BMI.S	LAB_1086E		;1085a: 6b12
	TST.L	D3			;1085c: 4a83
	BEQ.S	LAB_10864		;1085e: 6704
	MOVEQ	#-5,D7			;10860: 7efb
	BRA.S	LAB_10870		;10862: 600c
LAB_10864:
	MOVEA.L	(A4),A0			;10864: 2054
	MOVE.L	(A0),INT_WRONG.W	;10866: 21d00060
	CLR.W	INT_WRONG.W		;1086a: 42780060
LAB_1086E:
	RTS				;1086e: 4e75
LAB_10870:
	MOVE.L	D7,INT_WRONG.W		;10870: 21c70060
LAB_10874:
	RTS				;10874: 4e75
LAB_10876:
	MOVE.W	D3,D4			;10876: 3803
	CMP.W	$68(A4),D2		;10878: b46c0068
	BHI.S	LAB_1083E		;1087c: 62c0
	MOVE.L	D1,-(A7)		;1087e: 2f01
	BSR.W	LAB_103F8		;10880: 6100fb76
	BSR.W	LAB_105AA		;10884: 6100fd24
	MOVE.L	(A7)+,D1		;10888: 221f
	TST.W	INT_WRONG.W		;1088a: 4a780060
	BMI.S	LAB_1086E		;1088e: 6bde
	MOVE.W	D2,$32(A4)		;10890: 39420032
	BSR.W	LAB_10A00		;10894: 6100016a
	BMI.S	LAB_1086E		;10898: 6bd4
	MOVE.W	D4,$34(A4)		;1089a: 39440034
	TST.L	D1			;1089e: 4a81
	BPL.S	LAB_108E4		;108a0: 6a42
LAB_108A2:
	MOVEQ	#4,D7			;108a2: 7e04
	TST.W	INT_WRONG.W		;108a4: 4a780060
	BMI.S	LAB_10874		;108a8: 6bca
LAB_108AA:
	MOVEM.L	D0/D2/D4-D5/D7/A0,-(A7)	;108aa: 48e7ad80
	CLR.L	INT_WRONG.W		;108ae: 42b80060
	BSR.S	LAB_108E4		;108b2: 6130
	ST	D3			;108b4: 50c3
	TST.W	INT_WRONG.W		;108b6: 4a780060
	BMI.S	LAB_108C6		;108ba: 6b0a
	MOVEM.L	(A7),D0/D2/D4-D5/D7/A0	;108bc: 4cd701b5
	CLR.L	D5			;108c0: 4285
	BSR.W	LAB_106AA		;108c2: 6100fde6
LAB_108C6:
	MOVEM.L	(A7)+,D0/D2/D4-D5/D7/A0	;108c6: 4cdf01b5
	TST.L	D3			;108ca: 4a83
	BEQ.S	LAB_10874		;108cc: 67a6
	TST.W	INT_WRONG.W		;108ce: 4a780060
	BMI.S	LAB_108E2		;108d2: 6b0e
	TST.W	$56(A4)			;108d4: 4a6c0056
	BNE.S	LAB_108DE		;108d8: 6604
	DBF	D7,LAB_108AA		;108da: 51cfffce
LAB_108DE:
	MOVEQ	#-15,D7			;108de: 7ef1
	BRA.S	LAB_10870		;108e0: 608e
LAB_108E2:
	RTS				;108e2: 4e75
LAB_108E4:
	MOVEA.L	(A4),A1			;108e4: 2254
	MOVE.W	LAB_10FEA(PC),D7	;108e6: 3e3a0702
LAB_108EA:
	MOVE.L	$18(A4),(A1)+		;108ea: 22ec0018
	DBF	D7,LAB_108EA		;108ee: 51cffffa
	TST.W	$56(A4)			;108f2: 4a6c0056
	BEQ.S	LAB_10902		;108f6: 670a
	MOVEA.L	(A4),A0			;108f8: 2054
	LEA	$31F0(A0),A0		;108fa: 41e831f0
	SUBA.W	$64(A4),A0		;108fe: 90ec0064
LAB_10902:
	MOVEM.L	D0-D2/D5,-(A7)		;10902: 48e7e400
	MOVE.W	2(A7),(A1)+		;10906: 32ef0002
	BTST	#2,$61(A4)		;1090a: 082c00020061
	BNE.S	LAB_10916		;10910: 6604
	MOVE.W	2(A7),(A1)+		;10912: 32ef0002
LAB_10916:
	CLR.L	D3			;10916: 4283
	MOVE.L	$32(A4),D6		;10918: 2c2c0032
	SUB.L	D6,D3			;1091c: 9686
	NOT.L	D6			;1091e: 4686
	BSR.S	LAB_1099A		;10920: 6178
	MOVE.L	-3828(A4),D5		;10922: 2a2cf10c
	MOVE.W	D4,D7			;10926: 3e04
	BRA.S	LAB_10934		;10928: 600a
LAB_1092A:
	MOVE.L	(A0)+,D6		;1092a: 2c18
	SUB.L	D6,D3			;1092c: 9686
	BSR.S	LAB_10998		;1092e: 6168
	ADD.L	-3824(A4),D5		;10930: daacf110
LAB_10934:
	DBF	D7,LAB_1092A		;10934: 51cffff4
	MOVE.L	D3,D6			;10938: 2c03
	BSR.S	LAB_1099A		;1093a: 615e
	CLR.L	D6			;1093c: 4286
	BSR.S	LAB_1099A		;1093e: 615a
	MOVE.L	A2,-(A7)		;10940: 2f0a
	MOVEA.L	(A4),A2			;10942: 2454
	LEA	$31FC(A2),A2		;10944: 45ea31fc
	MOVE.W	#$0c7f,D7		;10948: 3e3c0c7f
LAB_1094C:
	MOVE.L	$18(A4),(A1)+		;1094c: 22ec0018
	CMPA.L	A2,A1			;10950: b3ca
	DBHI	D7,LAB_1094C		;10952: 52cffff8
	MOVEA.L	(A7)+,A2		;10956: 245f
	MOVEM.L	(A7)+,D0-D2/D5		;10958: 4cdf0027
	MOVE.W	#$9100,D7		;1095c: 3e3c9100
	BSR.W	LAB_1071A		;10960: 6100fdb8
	MOVE.W	D0,$7E(A5)		;10964: 3b40007e
	MOVE.L	(A4),$20(A5)		;10968: 2b540020
	MOVE.W	LAB_10FEC(PC),$24(A5)	;1096c: 3b7a067e0024
	BTST	#1,$61(A4)		;10972: 082c00010061
	BEQ.S	LAB_10986		;10978: 670c
	MOVE.B	$C00(A3),D7		;1097a: 1e2b0c00
LAB_1097E:
	BTST	#4,$C00(A3)		;1097e: 082b00040c00
	BEQ.S	LAB_1097E		;10984: 67f8
LAB_10986:
	MOVE.W	LAB_10FEC(PC),$24(A5)	;10986: 3b7a06640024
LAB_1098C:
	BTST	#1,$1F(A5)		;1098c: 082d0001001f
	BEQ.S	LAB_1098C		;10992: 67f8
	BRA.W	LAB_10716		;10994: 6000fd80
LAB_10998:
	ADD.L	D5,D6			;10998: dc85
LAB_1099A:
	NOT.L	D6			;1099a: 4686
	MOVE.L	D6,D0			;1099c: 2006
	BSR.S	LAB_109A4		;1099e: 6104
	MOVE.L	D6,D0			;109a0: 2006
	ROR.L	#1,D0			;109a2: e298
LAB_109A4:
	ANDI.L	#$55555555,D0		;109a4: 028055555555
	MOVE.L	D0,D2			;109aa: 2400
	EORI.L	#$55555555,D0		;109ac: 0a8055555555
	MOVE.L	D2,D1			;109b2: 2202
	ADD.L	D2,D2			;109b4: d482
	LSR.L	#1,D1			;109b6: e289
	BSET	#$1F,D1			;109b8: 08c1001f
	AND.L	D2,D1			;109bc: c282
	OR.L	D1,D0			;109be: 8081
	BTST	#0,-1(A1)		;109c0: 08290000ffff
	BEQ.S	LAB_109CC		;109c6: 6704
	BCLR	#$1F,D0			;109c8: 0880001f
LAB_109CC:
	MOVE.L	D0,(A1)+		;109cc: 22c0
	RTS				;109ce: 4e75
LAB_109D0:
	MOVE.W	$5E(A4),D2		;109d0: 342c005e
	BSR.W	LAB_105AA		;109d4: 6100fbd4
	MOVEA.L	$14(A4),A0		;109d8: 206c0014
	MOVE.W	$66(A4),D0		;109dc: 302c0066
	MOVE.L	#$00000197,D5		;109e0: 2a3c00000197
	RTS				;109e6: 4e75
LAB_109E8:
	BSR.S	LAB_109D0		;109e8: 61e6
	TST.W	INT_WRONG.W		;109ea: 4a780060
	BMI.S	LAB_109FE		;109ee: 6b0e
	MOVE.L	D5,D4			;109f0: 2805
	MOVE.L	D4,$32(A4)		;109f2: 29440032
	CLR.W	$56(A4)			;109f6: 426c0056
	BSR.W	LAB_108A2		;109fa: 6100fea6
LAB_109FE:
	RTS				;109fe: 4e75
LAB_10A00:
	TST.W	INT_WRONG.W		;10a00: 4a780060
	BMI.S	LAB_10A1A		;10a04: 6b14
	BTST	#3,EXT_BFE001		;10a06: 0839000300bfe001
	BNE.S	LAB_10A16		;10a0e: 6606
	MOVEQ	#-12,D7			;10a10: 7ef4
	BSR.W	LAB_10870		;10a12: 6100fe5c
LAB_10A16:
	TST.W	INT_WRONG.W		;10a16: 4a780060
LAB_10A1A:
	RTS				;10a1a: 4e75
LAB_10A1C:
	TST.L	D0			;10a1c: 4a80
	BPL.S	LAB_10A28		;10a1e: 6a08
	ST	$56(A4)			;10a20: 50ec0056
	BSR.W	LAB_10E9A		;10a24: 61000474
LAB_10A28:
	CLR.W	$30(A4)			;10a28: 426c0030
	CLR.L	$46(A4)			;10a2c: 42ac0046
	MOVE.B	D0,$1F(A4)		;10a30: 1940001f
	ADDQ.L	#3,D1			;10a34: 5681
	ANDI.W	#$fffc,D1		;10a36: 0241fffc
	MOVE.L	D1,$42(A4)		;10a3a: 29410042
	MOVE.L	D1,$46(A4)		;10a3e: 29410046
	BSR.W	LAB_10360		;10a42: 6100f91c
	BMI.S	LAB_10A58		;10a46: 6b10
	MOVE.L	A1,$3A(A4)		;10a48: 2949003a
	BSR.W	LAB_107BC		;10a4c: 6100fd6e
	BMI.S	LAB_10A58		;10a50: 6b06
	BSR.S	LAB_10A00		;10a52: 61ac
	TST.W	INT_WRONG.W		;10a54: 4a780060
LAB_10A58:
	BMI.W	LAB_1035C		;10a58: 6b00f902
	MOVE.L	$42(A4),$3E(A4)		;10a5c: 296c0042003e
	CMPI.W	#$524e,(A0)		;10a62: 0c50524e
	BNE.S	LAB_10A76		;10a66: 660e
	CMPI.B	#$43,2(A0)		;10a68: 0c2800430002
	BNE.S	LAB_10A76		;10a6e: 6606
	MOVE.L	4(A0),$42(A4)		;10a70: 296800040042
LAB_10A76:
	MOVE.W	$1E(A4),D0		;10a76: 302c001e
	BSR.W	LAB_1081A		;10a7a: 6100fd9e
	BSR.W	LAB_10380		;10a7e: 6100f900
	BEQ.W	LAB_10B14		;10a82: 67000090
	TST.L	D5			;10a86: 4a85
	BEQ.W	LAB_10B10		;10a88: 67000086
	MOVE.L	D5,$4E(A4)		;10a8c: 2945004e
	BSR.W	LAB_10B1E		;10a90: 6100008c
	BMI.S	LAB_10A1A		;10a94: 6b84
	MOVE.W	D7,$52(A4)		;10a96: 39470052
LAB_10A9A:
	MOVE.W	D7,$38(A4)		;10a9a: 39470038
	TST.W	$56(A4)			;10a9e: 4a6c0056
	BEQ.S	LAB_10AAE		;10aa2: 670a
	BSR.W	LAB_10EE8		;10aa4: 61000442
	TST.W	D6			;10aa8: 4a46
	BMI.S	LAB_10ACA		;10aaa: 6b1e
	BRA.S	LAB_10ADA		;10aac: 602c
LAB_10AAE:
	MOVE.L	$3E(A4),D3		;10aae: 262c003e
	SUB.L	$62(A4),D3		;10ab2: 96ac0062
	MOVE.L	D3,$3E(A4)		;10ab6: 2943003e
	BGT.S	LAB_10AC4		;10aba: 6e08
	ADD.L	$62(A4),D3		;10abc: d6ac0062
	ADDQ.L	#3,D3			;10ac0: 5683
	LSR.L	#2,D3			;10ac2: e48b
LAB_10AC4:
	MOVE.L	$3E(A4),D1		;10ac4: 222c003e
	BLE.S	LAB_10ADA		;10ac8: 6f10
LAB_10ACA:
	CLR.W	$34(A4)			;10aca: 426c0034
	BSR.S	LAB_10B1E		;10ace: 614e
	BMI.W	LAB_109FE		;10ad0: 6b00ff2c
	MOVE.W	D7,$32(A4)		;10ad4: 39470032
	BRA.S	LAB_10AE2		;10ad8: 6008
LAB_10ADA:
	CLR.W	$32(A4)			;10ada: 426c0032
	MOVE.W	D3,$34(A4)		;10ade: 39430034
LAB_10AE2:
	BSR.S	LAB_10B42		;10ae2: 615e
	MOVE.W	$32(A4),D7		;10ae4: 3e2c0032
	BNE.S	LAB_10A9A		;10ae8: 66b0
	MOVEA.L	$3A(A4),A1		;10aea: 226c003a
	BSR.S	LAB_10B2C		;10aee: 613c
	MOVEA.L	$4E(A4),A0		;10af0: 206c004e
	LEA	$D(A0),A0		;10af4: 41e8000d
	MOVE.B	$53(A4),(A0)+		;10af8: 10ec0053
	MOVE.B	$31(A4),(A0)+		;10afc: 10ec0031
	MOVE.B	$1F(A4),(A0)+		;10b00: 10ec001f
	MOVE.L	$42(A4),(A0)+		;10b04: 20ec0042
	MOVE.L	$46(A4),(A0)+		;10b08: 20ec0046
	BRA.W	LAB_109E8		;10b0c: 6000feda
LAB_10B10:
	MOVEQ	#-8,D0			;10b10: 70f8
	BRA.S	LAB_10B1A		;10b12: 6006
LAB_10B14:
	MOVEQ	#-6,D0			;10b14: 70fa
	BRA.S	LAB_10B1A		;10b16: 6002
LAB_10B18:
	MOVEQ	#-7,D0			;10b18: 70f9
LAB_10B1A:
	BRA.W	LAB_10358		;10b1a: 6000f83c
LAB_10B1E:
	BSR.S	LAB_10B6E		;10b1e: 614e
	BMI.S	LAB_10B18		;10b20: 6bf6
	MOVE.W	$54(A4),D5		;10b22: 3a2c0054
	ADDQ.W	#1,$30(A4)		;10b26: 526c0030
	BRA.S	LAB_10B86		;10b2a: 605a
LAB_10B2C:
	MOVEA.L	$4E(A4),A0		;10b2c: 206c004e
	MOVEQ	#$C,D7			;10b30: 7e0c
LAB_10B32:
	MOVE.B	(A1),(A0)+		;10b32: 10d1
	TST.B	(A1)+			;10b34: 4a19
	BEQ.S	LAB_10B40		;10b36: 6708
	DBF	D7,LAB_10B32		;10b38: 51cffff8
	CLR.B	-1(A0)			;10b3c: 4228ffff
LAB_10B40:
	RTS				;10b40: 4e75
LAB_10B42:
	MOVE.W	$38(A4),D2		;10b42: 342c0038
	BSR.W	LAB_105AA		;10b46: 6100fa62
	MOVEQ	#0,D4			;10b4a: 7800
	MOVE.W	$34(A4),D4		;10b4c: 382c0034
	TST.W	$32(A4)			;10b50: 4a6c0032
	BEQ.S	LAB_10B5C		;10b54: 6706
	MOVE.W	$64(A4),D4		;10b56: 382c0064
	LSR.W	#2,D4			;10b5a: e44c
LAB_10B5C:
	BSR.W	LAB_108A2		;10b5c: 6100fd44
	BNE.S	LAB_10B6C		;10b60: 660a
	TST.W	$56(A4)			;10b62: 4a6c0056
	BNE.S	LAB_10B6C		;10b66: 6604
	ASL.W	#2,D4			;10b68: e544
	ADDA.W	D4,A0			;10b6a: d0c4
LAB_10B6C:
	RTS				;10b6c: 4e75
LAB_10B6E:
	MOVEA.L	$14(A4),A6		;10b6e: 2c6c0014
	MOVEQ	#1,D7			;10b72: 7e01
LAB_10B74:
	TST.B	$18(A6,D7.W)		;10b74: 4a367018
	BEQ.S	LAB_10B84		;10b78: 670a
	ADDQ.W	#1,D7			;10b7a: 5247
	CMP.W	$68(A4),D7		;10b7c: be6c0068
	BLS.S	LAB_10B74		;10b80: 63f2
	MOVEQ	#-1,D7			;10b82: 7eff
LAB_10B84:
	RTS				;10b84: 4e75
LAB_10B86:
	CMP.W	$68(A4),D7		;10b86: be6c0068
	BHI.W	LAB_1083E		;10b8a: 6200fcb2
	MOVEA.L	$14(A4),A6		;10b8e: 2c6c0014
	CMPI.B	#$fe,$18(A6,D7.W)	;10b92: 0c3600fe7018
	BEQ.W	LAB_1083E		;10b98: 6700fca4
	MOVE.B	D5,$18(A6,D7.W)		;10b9c: 1d857018
	CMP.W	D7,D7			;10ba0: be47
	RTS				;10ba2: 4e75
LAB_10BA4:
	BSR.W	LAB_103F8		;10ba4: 6100f852
	BSR.W	LAB_10A00		;10ba8: 6100fe56
	BMI.W	LAB_10C8C		;10bac: 6b0000de
	BTST	#$1E,D1			;10bb0: 0801001e
	BNE.S	LAB_10C08		;10bb4: 6652
	MOVEM.L	D0/A0-A1,-(A7)		;10bb6: 48e780c0
	MOVE.W	(A0),D0			;10bba: 3010
	MOVEQ	#1,D3			;10bbc: 7601
	LEA	-3820(A4),A0		;10bbe: 41ecf114
	CLR.W	D2			;10bc2: 4242
LAB_10BC4:
	CMP.W	$5C(A4),D2		;10bc4: b46c005c
	BEQ.S	LAB_10BEE		;10bc8: 6724
	MOVEM.L	D0-D3/A0,-(A7)		;10bca: 48e7f080
	MOVEM.L	D0-D7/A0-A6,-(A7)	;10bce: 48e7fffe
	MOVEA.L	EXT_0.W,A0		;10bd2: 20780000
	MOVEA.L	-20(A0),A0		;10bd6: 2068ffec
	JSR	(A0)			;10bda: 4e90
	MOVEM.L	(A7)+,D0-D7/A0-A6	;10bdc: 4cdf7fff
	BSR.W	LAB_10876		;10be0: 6100fc94
	MOVEM.L	(A7)+,D0-D3/A0		;10be4: 4cdf010f
	TST.W	INT_WRONG.W		;10be8: 4a780060
	BMI.S	LAB_10C00		;10bec: 6b12
LAB_10BEE:
	ADDQ.W	#1,D2			;10bee: 5242
	BTST	#0,$61(A4)		;10bf0: 082c00000061
	BNE.S	LAB_10BFA		;10bf6: 6602
	ADDQ.W	#1,D2			;10bf8: 5242
LAB_10BFA:
	CMP.W	$68(A4),D2		;10bfa: b46c0068
	BLE.S	LAB_10BC4		;10bfe: 6fc4
LAB_10C00:
	MOVEM.L	(A7)+,D0/A0-A1		;10c00: 4cdf0301
	BMI.W	LAB_10C8C		;10c04: 6b000086
LAB_10C08:
	ST	$28(A4)			;10c08: 50ec0028
	MOVEA.L	$14(A4),A6		;10c0c: 2c6c0014
	MOVE.W	#$0196,D7		;10c10: 3e3c0196
LAB_10C14:
	CLR.L	(A6)+			;10c14: 429e
	DBF	D7,LAB_10C14		;10c16: 51cffffc
	MOVEA.L	$14(A4),A6		;10c1a: 2c6c0014
	MOVEM.L	A1/A6,-(A7)		;10c1e: 48e70042
	ADDQ.L	#4,A6			;10c22: 588e
	MOVEQ	#7,D6			;10c24: 7c07
LAB_10C26:
	MOVE.B	(A1)+,(A6)+		;10c26: 1cd9
	BEQ.S	LAB_10C2E		;10c28: 6704
	DBF	D6,LAB_10C26		;10c2a: 51cefffa
LAB_10C2E:
	MOVEM.L	(A7)+,A1/A6		;10c2e: 4cdf4200
	BSR.W	LAB_10360		;10c32: 6100f72c
	EORI.L	#$fffffff6,INT_WRONG.W	;10c36: 0ab8fffffff60060
	MOVE.L	$20(A4),(A6)		;10c3e: 2cac0020
	LEA	$18(A6),A1		;10c42: 43ee0018
	MOVE.B	#$fe,(A1)+		;10c46: 12fc00fe
	MOVE.W	$5E(A4),D2		;10c4a: 342c005e
	MOVE.B	#$fe,-1(A1,D2.W)	;10c4e: 13bc00fe20ff
	MOVE.W	$5C(A4),D2		;10c54: 342c005c
	CMP.W	$68(A4),D2		;10c58: b46c0068
	BHI.S	LAB_10C64		;10c5c: 6206
	MOVE.B	#$fd,-1(A1,D2.W)	;10c5e: 13bc00fd20ff
LAB_10C64:
	BTST	#0,$61(A4)		;10c64: 082c00000061
	BNE.S	LAB_10C78		;10c6a: 660c
	MOVEQ	#$4F,D6			;10c6c: 7c4f
LAB_10C6E:
	MOVE.B	#$fe,(A1)		;10c6e: 12bc00fe
	ADDQ.L	#2,A1			;10c72: 5489
	DBF	D6,LAB_10C6E		;10c74: 51cefff8
LAB_10C78:
	MOVE.W	(A0),$66(A4)		;10c78: 39500066
	LEA	$C(A6),A1		;10c7c: 43ee000c
	MOVEQ	#5,D7			;10c80: 7e05
LAB_10C82:
	MOVE.W	(A0)+,(A1)+		;10c82: 32d8
	DBF	D7,LAB_10C82		;10c84: 51cffffc
	BSR.W	LAB_109E8		;10c88: 6100fd5e
LAB_10C8C:
	BRA.W	MotorOff		;10c8c: 6000f9f4
GetMemInfo:
	LEA	LAB_10FE4(PC),A0	;10c90: 41fa0352
	MOVEA.L	LAB_10F7C(PC),A1	;10c94: 227a02e6
	RTS				;10c98: 4e75
FreeMem:
	MOVEM.L	D1/A1-A2,-(A7)		;10c9a: 48e74060
	LEA	-16(A0),A0		;10c9e: 41e8fff0
	BCLR	#0,$B(A0)		;10ca2: 08a80000000b
	MOVE.L	8(A0),D0		;10ca8: 20280008
	MOVE.L	(A0),D1			;10cac: 2210
	BEQ.S	LAB_10CBA		;10cae: 670a
	MOVEA.L	D1,A1			;10cb0: 2241
	CMP.L	8(A1),D0		;10cb2: b0a90008
	BNE.S	LAB_10CBA		;10cb6: 6602
	BSR.S	LAB_10CD2		;10cb8: 6118
LAB_10CBA:
	MOVE.L	4(A0),D1		;10cba: 22280004
	BEQ.S	LAB_10CCC		;10cbe: 670c
	MOVEA.L	D1,A1			;10cc0: 2241
	CMP.L	8(A1),D0		;10cc2: b0a90008
	BNE.S	LAB_10CCC		;10cc6: 6604
	EXG	A1,A0			;10cc8: c348
	BSR.S	LAB_10CD2		;10cca: 6106
LAB_10CCC:
	MOVEM.L	(A7)+,D1/A1-A2		;10ccc: 4cdf0602
	RTS				;10cd0: 4e75
LAB_10CD2:
	MOVEA.L	(A1),A2			;10cd2: 2451
	MOVE.L	A2,(A0)			;10cd4: 208a
	MOVE.L	A2,D1			;10cd6: 220a
	BEQ.S	LAB_10CEC		;10cd8: 6712
	TST.L	4(A1)			;10cda: 4aa90004
	BEQ.S	LAB_10CEC		;10cde: 670c
	TST.L	4(A2)			;10ce0: 4aaa0004
	BEQ.S	LAB_10CEC		;10ce4: 6706
	MOVE.L	4(A1),4(A2)		;10ce6: 256900040004
LAB_10CEC:
	MOVE.L	$C(A1),D1		;10cec: 2229000c
	ADDI.L	#$00000010,D1		;10cf0: 068100000010
	ADD.L	D1,$C(A0)		;10cf6: d3a8000c
	RTS				;10cfa: 4e75
LAB_10CFC:
	MOVE.L	8(A0),D2		;10cfc: 24280008
	BTST	#1,D0			;10d00: 08000001
	BNE.S	LAB_10D28		;10d04: 6622
	BTST	#3,D0			;10d06: 08000003
	BNE.S	LAB_10D1A		;10d0a: 660e
	BTST	#0,D0			;10d0c: 08000000
	BEQ.S	LAB_10D22		;10d10: 6710
	BTST	#1,D2			;10d12: 08020001
	BEQ.S	LAB_10D2E		;10d16: 6716
	BRA.S	LAB_10D28		;10d18: 600e
LAB_10D1A:
	BTST	#2,D2			;10d1a: 08020002
	BEQ.S	LAB_10D2E		;10d1e: 670e
	BRA.S	LAB_10D28		;10d20: 6006
LAB_10D22:
	BTST	#1,D2			;10d22: 08020001
	BNE.S	LAB_10D2E		;10d26: 6606
LAB_10D28:
	BTST	#0,D2			;10d28: 08020000
	BEQ.S	LAB_10D30		;10d2c: 6702
LAB_10D2E:
	MOVEQ	#-1,D2			;10d2e: 74ff
LAB_10D30:
	RTS				;10d30: 4e75
AllocMemType:
	BTST	#1,D0			;10d32: 08000001
	BEQ.S	LAB_10D46		;10d36: 670e
	MOVEQ	#8,D0			;10d38: 7008
	BSR.S	LAB_10D46		;10d3a: 610a
	BNE.S	LAB_10D70		;10d3c: 6632
	MOVEQ	#1,D0			;10d3e: 7001
	BSR.S	LAB_10D46		;10d40: 6104
	BNE.S	LAB_10D70		;10d42: 662c
	MOVEQ	#0,D0			;10d44: 7000
LAB_10D46:
	MOVE.L	A0,-(A7)		;10d46: 2f08
	MOVE.L	D1,-(A7)		;10d48: 2f01
	BSR.S	AllocateMem		;10d4a: 6126
	MOVE.L	(A7)+,D1		;10d4c: 221f
	MOVE.L	LAB_10FC6(PC),D0	;10d4e: 203a0276
	BEQ.S	LAB_10D6C		;10d52: 6718
	MOVEA.L	D0,A0			;10d54: 2040
	MOVE.L	$C(A0),D0		;10d56: 2028000c
	CMP.L	D0,D1			;10d5a: b280
	BHI.S	LAB_10D6C		;10d5c: 620e
	SUB.L	D1,D0			;10d5e: 9081
	MOVE.L	D0,$C(A0)		;10d60: 2140000c
	LEA	$10(A0,D0.L),A0		;10d64: 41f00810
	MOVE.L	A0,D0			;10d68: 2008
	BRA.S	LAB_10D6E		;10d6a: 6002
LAB_10D6C:
	CLR.L	D0			;10d6c: 4280
LAB_10D6E:
	MOVEA.L	(A7)+,A0		;10d6e: 205f
LAB_10D70:
	RTS				;10d70: 4e75
AllocateMem:
	MOVEM.L	D2-D3/A1/A6,-(A7)	;10d72: 48e73042
	LEA	LAB_10FC6(PC),A6	;10d76: 4dfa024e
	CLR.L	(A6)			;10d7a: 4296
	MOVEA.L	LAB_10F7C(PC),A0	;10d7c: 207a01fe
	CLR.L	D1			;10d80: 4281
	CLR.L	D3			;10d82: 4283
LAB_10D84:
	BSR.W	LAB_10CFC		;10d84: 6100ff76
	BNE.S	LAB_10D98		;10d88: 660e
	MOVE.L	A0,(A6)			;10d8a: 2c88
	MOVE.L	$C(A0),D2		;10d8c: 2428000c
	CMP.L	D3,D2			;10d90: b483
	BLS.S	LAB_10D96		;10d92: 6302
	MOVE.L	D2,D3			;10d94: 2602
LAB_10D96:
	ADD.L	D2,D1			;10d96: d282
LAB_10D98:
	MOVE.L	(A0),D2			;10d98: 2410
	BEQ.S	LAB_10DA0		;10d9a: 6704
	MOVEA.L	D2,A0			;10d9c: 2042
	BRA.S	LAB_10D84		;10d9e: 60e4
LAB_10DA0:
	MOVE.L	D3,D0			;10da0: 2003
	MOVEM.L	(A7)+,D2-D3/A1/A6	;10da2: 4cdf420c
	RTS				;10da6: 4e75
MemoryFunc:
	MOVEM.L	D1-D2/A1-A2,-(A7)	;10da8: 48e76060
	MOVEA.L	LAB_10F7C(PC),A0	;10dac: 207a01ce
	ADDQ.L	#1,D1			;10db0: 5281
	ANDI.W	#$fffe,D1		;10db2: 0241fffe
LAB_10DB6:
	BSR.W	LAB_10CFC		;10db6: 6100ff44
	BNE.S	LAB_10DC2		;10dba: 6606
	CMP.L	$C(A0),D1		;10dbc: b2a8000c
	BLS.S	LAB_10DCA		;10dc0: 6308
LAB_10DC2:
	MOVE.L	(A0),D2			;10dc2: 2410
	BEQ.S	LAB_10E24		;10dc4: 675e
	MOVEA.L	D2,A0			;10dc6: 2042
	BRA.S	LAB_10DB6		;10dc8: 60ec
LAB_10DCA:
	MOVE.L	$C(A0),D2		;10dca: 2428000c
	SUB.L	D1,D2			;10dce: 9481
	CMP.L	#$00000017,D2		;10dd0: b4bc00000017
	BHI.S	LAB_10DDC		;10dd6: 6204
	MOVE.L	$C(A0),D1		;10dd8: 2228000c
LAB_10DDC:
	CMP.L	$C(A0),D1		;10ddc: b2a8000c
	BEQ.S	LAB_10E06		;10de0: 6724
	LEA	$10(A0,D1.L),A1		;10de2: 43f01810
	MOVE.L	(A0),(A1)		;10de6: 2290
	MOVE.L	8(A0),8(A1)		;10de8: 236800080008
	MOVE.L	A1,(A0)			;10dee: 2089
	MOVE.L	A0,4(A1)		;10df0: 23480004
	MOVEA.L	$C(A0),A2		;10df4: 2468000c
	MOVE.L	D1,$C(A0)		;10df8: 2141000c
	SUBA.L	D1,A2			;10dfc: 95c1
	SUBA.W	#$0010,A2		;10dfe: 94fc0010
	MOVE.L	A2,$C(A1)		;10e02: 234a000c
LAB_10E06:
	BSET	#0,$B(A0)		;10e06: 08e80000000b
	LEA	$10(A0),A0		;10e0c: 41e80010
	BTST	#2,D0			;10e10: 08000002
	BEQ.S	LAB_10E20		;10e14: 670a
	MOVEA.L	A0,A1			;10e16: 2248
	LSR.L	#1,D1			;10e18: e289
LAB_10E1A:
	CLR.W	(A1)+			;10e1a: 4259
	SUBQ.L	#1,D1			;10e1c: 5381
	BNE.S	LAB_10E1A		;10e1e: 66fa
LAB_10E20:
	MOVE.L	A0,D0			;10e20: 2008
	BRA.S	LAB_10E26		;10e22: 6002
LAB_10E24:
	CLR.L	D0			;10e24: 4280
LAB_10E26:
	MOVEM.L	(A7)+,D1-D2/A1-A2	;10e26: 4cdf0606
	RTS				;10e2a: 4e75
Initialise:
	MOVEM.L	D0-D2/D4/A2-A4,-(A7)	;10e2c: 48e7e838
	LEA	LAB_10FE4(PC),A3	;10e30: 47fa01b2
	MOVE.L	(A1)+,(A3)+		;10e34: 26d9
	MOVE.W	(A1)+,(A3)		;10e36: 3699
	ADDQ.L	#2,A1			;10e38: 5489
	MOVEA.L	A1,A3			;10e3a: 2649
	MOVE.L	A0,D2			;10e3c: 2408
	LEA	LAB_10F7C(PC),A2	;10e3e: 45fa013c
	MOVEQ	#6,D0			;10e42: 7006
	BSR.S	LAB_10E54		;10e44: 610e
	MOVEQ	#2,D0			;10e46: 7002
	BSR.S	LAB_10E54		;10e48: 610a
	MOVEQ	#0,D0			;10e4a: 7000
	BSR.S	LAB_10E54		;10e4c: 6106
	MOVEM.L	(A7)+,D0-D2/D4/A2-A4	;10e4e: 4cdf1c17
	RTS				;10e52: 4e75
LAB_10E54:
	MOVEA.L	A3,A1			;10e54: 224b
LAB_10E56:
	MOVEQ	#2,D1			;10e56: 7202
	CMPI.W	#$00c0,(A1)		;10e58: 0c5100c0
	BEQ.S	LAB_10E76		;10e5c: 6718
	MOVEQ	#6,D1			;10e5e: 7206
	TST.L	(A1)			;10e60: 4a91
	BNE.S	LAB_10E76		;10e62: 6612
	MOVEQ	#0,D1			;10e64: 7200
	TST.L	4(A1)			;10e66: 4aa90004
	BEQ.S	LAB_10E98		;10e6a: 672c
	CMP.W	D0,D1			;10e6c: b240
	BNE.S	LAB_10E94		;10e6e: 6624
	SUB.L	D2,4(A1)		;10e70: 95a90004
	ADD.L	D2,(A1)			;10e74: d591
LAB_10E76:
	CMP.W	D1,D0			;10e76: b041
	BNE.S	LAB_10E94		;10e78: 661a
	MOVE.L	(A1),(A2)		;10e7a: 2491
	MOVEA.L	(A1),A2			;10e7c: 2451
	CLR.L	(A2)			;10e7e: 4292
	CLR.L	4(A2)			;10e80: 42aa0004
	MOVE.L	D1,8(A2)		;10e84: 25410008
	MOVEA.L	4(A1),A4		;10e88: 28690004
	SUBA.W	#$0010,A4		;10e8c: 98fc0010
	MOVE.L	A4,$C(A2)		;10e90: 254c000c
LAB_10E94:
	ADDQ.L	#8,A1			;10e94: 5089
	BRA.S	LAB_10E56		;10e96: 60be
LAB_10E98:
	RTS				;10e98: 4e75
LAB_10E9A:
	MOVEM.L	D0-D2/A0-A1,-(A7)	;10e9a: 48e7e0c0
	MOVEA.L	(A4),A1			;10e9e: 2254
	MOVE.W	#$003f,D0		;10ea0: 303c003f
LAB_10EA4:
	CLR.L	(A1)+			;10ea4: 4299
	DBF	D0,LAB_10EA4		;10ea6: 51c8fffc
	MOVEA.L	(A4),A1			;10eaa: 2254
	CLR.W	D2			;10eac: 4242
	CLR.W	D0			;10eae: 4240
	BRA.S	LAB_10EC0		;10eb0: 600e
LAB_10EB2:
	MOVE.B	(A0)+,D0		;10eb2: 1018
	CMPI.B	#$ff,0(A1,D0.W)		;10eb4: 0c3100ff0000
	BEQ.S	LAB_10EC0		;10eba: 6704
	ADDQ.B	#1,0(A1,D0.W)		;10ebc: 52310000
LAB_10EC0:
	SUBQ.L	#1,D1			;10ec0: 5381
	BPL.S	LAB_10EB2		;10ec2: 6aee
	MOVE.W	#$00fe,D1		;10ec4: 323c00fe
	MOVE.W	D1,D2			;10ec8: 3401
	MOVE.W	D1,D0			;10eca: 3001
LAB_10ECC:
	CMP.B	1(A1,D1.W),D0		;10ecc: b0311001
	BLS.S	LAB_10ED8		;10ed0: 6306
	MOVE.B	1(A1,D1.W),D0		;10ed2: 10311001
	MOVE.W	D1,D2			;10ed6: 3401
LAB_10ED8:
	DBF	D1,LAB_10ECC		;10ed8: 51c9fff2
	ADDQ.W	#1,D2			;10edc: 5242
	MOVE.W	D2,$5A(A4)		;10ede: 3942005a
	MOVEM.L	(A7)+,D0-D2/A0-A1	;10ee2: 4cdf0307
	RTS				;10ee6: 4e75
LAB_10EE8:
	MOVEM.L	D0-D2/A1-A2,-(A7)	;10ee8: 48e7e060
	MOVE.W	$5A(A4),D2		;10eec: 342c005a
	MOVE.L	$3E(A4),D3		;10ef0: 262c003e
	MOVEA.L	(A4),A2			;10ef4: 2454
	LEA	$31F0(A2),A2		;10ef6: 45ea31f0
	SUBA.W	$64(A4),A2		;10efa: 94ec0064
	LEA	8(A2),A1		;10efe: 43ea0008
	MOVE.L	#$5061436b,(A2)+	;10f02: 24fc5061436b
	MOVE.W	$64(A4),D6		;10f08: 3c2c0064
	SUBI.W	#$0009,D6		;10f0c: 04460009
LAB_10F10:
	SUBQ.L	#1,D3			;10f10: 5383
	BMI.S	LAB_10F56		;10f12: 6b42
	MOVE.B	(A0)+,D0		;10f14: 1018
	CMP.W	#$0001,D6		;10f16: bc7c0001
	BLS.S	LAB_10F50		;10f1a: 6334
	CMP.B	D0,D2			;10f1c: b400
	BNE.S	LAB_10F28		;10f1e: 6608
	MOVE.B	D0,(A1)+		;10f20: 12c0
	MOVE.B	D0,(A1)+		;10f22: 12c0
	CLR.W	D0			;10f24: 4240
	BRA.S	LAB_10F4E		;10f26: 6026
LAB_10F28:
	CMP.B	(A0),D0			;10f28: b010
	BNE.S	LAB_10F50		;10f2a: 6624
	CMP.B	1(A0),D0		;10f2c: b0280001
	BNE.S	LAB_10F50		;10f30: 661e
	CLR.W	D1			;10f32: 4241
LAB_10F34:
	CMP.B	(A0)+,D0		;10f34: b018
	BNE.S	LAB_10F46		;10f36: 660e
	SUBQ.L	#1,D3			;10f38: 5383
	BMI.S	LAB_10F48		;10f3a: 6b0c
	ADDQ.W	#1,D1			;10f3c: 5241
	CMP.W	#$00ff,D1		;10f3e: b27c00ff
	BNE.S	LAB_10F34		;10f42: 66f0
	BRA.S	LAB_10F48		;10f44: 6002
LAB_10F46:
	SUBQ.L	#1,A0			;10f46: 5388
LAB_10F48:
	MOVE.B	D2,(A1)+		;10f48: 12c2
	MOVE.B	D0,(A1)+		;10f4a: 12c0
	MOVE.W	D1,D0			;10f4c: 3001
LAB_10F4E:
	SUBQ.W	#2,D6			;10f4e: 5546
LAB_10F50:
	MOVE.B	D0,(A1)+		;10f50: 12c0
	DBF	D6,LAB_10F10		;10f52: 51ceffbc
LAB_10F56:
	MOVE.L	$3E(A4),D1		;10f56: 222c003e
	TST.L	D3			;10f5a: 4a83
	BMI.S	LAB_10F60		;10f5c: 6b02
	SUB.L	D3,D1			;10f5e: 9283
LAB_10F60:
	MOVE.L	D3,$3E(A4)		;10f60: 2943003e
	MOVE.L	D1,(A2)			;10f64: 2481
	MOVE.B	D2,(A2)			;10f66: 1482
	MOVE.W	$64(A4),D3		;10f68: 362c0064
	SUB.W	D6,D3			;10f6c: 9646
	ADDQ.W	#2,D3			;10f6e: 5443
	LSR.W	#2,D3			;10f70: e44b
	MOVEM.L	(A7)+,D0-D2/A1-A2	;10f72: 4cdf0607
	RTS				;10f76: 4e75
; ------------------------------------------------------------------------------
; Data values follow
; ------------------------------------------------------------------------------
DataBuffer:
	DS.L	1			;10f78
LAB_10F7C:
	DS.L	4			;10f7c
DirBuffer:
	DS.L	1			;10f8c
	DC.L	$aaaaaaaa		;10f90
LAB_10F94:
	DC.L	$ffff0000,$ffffffff	;10f94
LAB_10F9C:
	DC.L	$ffff0000		;10f9c
LAB_10FA0:
	DC.W	$ffff			;10fa0
LAB_10FA2:
	DC.L	$ffffffff,$ffff0000	;10fa2
	DS.L	7			;10faa
LAB_10FC6:
	DS.L	3			;10fc6
	DS.W	1			;10fd2
LAB_10FD4:
	DC.L	$00010002,$00070000	;10fd4
	DC.W	$1810			;10fdc
LAB_10FDE:
	DC.L	$4522009f		;10fde
	DC.W	$0040			;10fe2
LAB_10FE4:
	DS.L	1			;10fe4
	DS.W	1			;10fe8
LAB_10FEA:
	DC.W	$0030			;10fea
LAB_10FEC:
	DC.L	$d8f80201,$19910000	;10fec
	DS.L	3			;10ff4
	END
